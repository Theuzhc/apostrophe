{"_id":"broadband","_rev":"59-89231fc2622bfa384ab7afa50a37c3a7","name":"broadband","description":"Given a MongoDB query cursor, process the results in parallel, up to the specified limit.","dist-tags":{"latest":"1.1.0"},"versions":{"0.1.0":{"name":"broadband","version":"0.1.0","keywords":["async","parallel","concurrency","limit","series","mongodb","mongo"],"author":{"name":"P'unk Avenue LLC"},"license":"MIT","_id":"broadband@0.1.0","maintainers":[{"name":"boutell","email":"boutell@boutell.com"}],"homepage":"https://github.com/punkave/broadband","bugs":{"url":"https://github.com/punkave/broadband/issues"},"dist":{"shasum":"04b891b39c5910fe86a34219ad5c3c4c3fcce6a8","tarball":"https://registry.npmjs.org/broadband/-/broadband-0.1.0.tgz","integrity":"sha512-jSorFB4BYXf8ZaCY8tKZV3MgaQ0ySaKEXPY+MdG/GwDRH4at8AsC5ir6ALJPYKJgCwQNyHnGyRfdSEsm+IFE8g==","signatures":[{"sig":"MEYCIQCUd9GdR7dQ3adN38E0oOhipA+Zt9jsvhw6k0FgR1uqKwIhAIBAdMkDuhdPWlaxpSSRWwkKv4DlH1r5sFuhBKVPwHp1","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}]},"main":"index.js","_from":".","_shasum":"04b891b39c5910fe86a34219ad5c3c4c3fcce6a8","scripts":{"test":"mocha tests/test.js"},"_npmUser":{"name":"boutell","email":"boutell@boutell.com"},"repository":{"url":"https://github.com/punkave/broadband","type":"git"},"_npmVersion":"1.4.9","description":"Given a MongoDB query cursor, process the results in parallel, up to the specified limit.","directories":{},"dependencies":{"lodash":"^2.4.1"}},"0.1.1":{"name":"broadband","version":"0.1.1","keywords":["async","parallel","concurrency","limit","series","mongodb","mongo"],"author":{"name":"P'unk Avenue LLC"},"license":"MIT","_id":"broadband@0.1.1","maintainers":[{"name":"boutell","email":"boutell@boutell.com"}],"homepage":"https://github.com/punkave/broadband","bugs":{"url":"https://github.com/punkave/broadband/issues"},"dist":{"shasum":"7307da39d833c7dfc47face02d4d32b01bf0597d","tarball":"https://registry.npmjs.org/broadband/-/broadband-0.1.1.tgz","integrity":"sha512-sOHPku7S5/KBd5g6GV79AITevWre3qtHsY1rgsJd1OafSVBZx8IwF0DlpZ1h4OcySR7671mjXlT9WJ5k8qEb4w==","signatures":[{"sig":"MEUCIGqekNR4r+4aZUw2HLpp63KWpf0rOvdnEU/aSXCYpA8+AiEA472TPtpBmA9fyX9Xj3wnCUxs/OloAGtYoc3Bek52jqE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}]},"main":"index.js","_from":".","_shasum":"7307da39d833c7dfc47face02d4d32b01bf0597d","gitHead":"395e435113c49fe59f8df6f468820ba8fd21b19d","scripts":{"test":"mocha tests/test.js"},"_npmUser":{"name":"boutell","email":"boutell@boutell.com"},"repository":{"url":"https://github.com/punkave/broadband","type":"git"},"_npmVersion":"1.4.24","description":"Given a MongoDB query cursor, process the results in parallel, up to the specified limit.","directories":{},"dependencies":{"lodash":"^2.4.1"}},"1.0.0":{"name":"broadband","version":"1.0.0","keywords":["async","parallel","concurrency","limit","series","mongodb","mongo"],"author":{"name":"P'unk Avenue LLC"},"license":"MIT","_id":"broadband@1.0.0","maintainers":[{"name":"alexgilbert","email":"alex@punkave.com"},{"name":"austinstarin","email":"austin@punkave.com"},{"name":"bgantick","email":"bgantick@gmail.com"},{"name":"boutell","email":"tom@punkave.com"},{"name":"colpanik","email":"kerry@punkave.com"},{"name":"grdunn","email":"grdunn@gmail.com"},{"name":"jimmyh","email":"jimmy@punkave.com"},{"name":"mcoppola","email":"mcoppola832@gmail.com"},{"name":"mtthwmnc","email":"matthew.mance@gmail.com"},{"name":"stuartromanek","email":"stuart@punkave.com"}],"homepage":"https://github.com/punkave/broadband","bugs":{"url":"https://github.com/punkave/broadband/issues"},"dist":{"shasum":"b8bb00f5559a53171ca97c78864882071fcf996b","tarball":"https://registry.npmjs.org/broadband/-/broadband-1.0.0.tgz","fileCount":6,"integrity":"sha512-21iHw1tchEYLrxR8A/io6jJGXWkYvGQ9whp2bhxlOVsJ4BdDljLLyxw6dcSuYsNJjVc4djg3bEDcyPNjC15JpA==","signatures":[{"sig":"MEUCIFXb5SGbZCWBhCsiMGdvUnL9WkWKDyZel3Uz6/X8t0MOAiEA9vc+RoH6FAigpkH9bfoiPH+z8oraAJxLt0BaBqzpO0s=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":12905,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJa+vfkCRA9TVsSAnZWagAA2QEP/iuFWzka6SNk8+Qdpzu8\n9tYVlFWpdGLjwbxX+XxR8tQztc54THXqpR5cVVLIOmeYSRiIHgXiqda/Vdk8\nmfOekuByvU8HMnuul/LJvTe5QMBUzgNtzuAqsFPmIIKR5I2cPxouJ9+8MSRS\nvZ2WlTXA8SMb3GoCw3Lzs/RWFPU+E1kEDfSkgeML5IUAXVNCLzofFTWHhTHG\n9Wtzb4JMYtaLWgu2jo7ssvuR6s5BDgINXJPc9RHzyLMXTXibN2njejrZOHYe\nG0mxWLr7IMcHQa2Gt3a679kuLpGj/01OjnRRfMEI94mMronMu2pPPnh5YrH/\nnNdsiW6hUNi3A4GoDFfiV1r7LuMwughBYhKJThaRx/OH5VjqIc+by3tjhF7q\nRl6ht3P63Krnpx1cBSNlhkwCbq3cp9Fjud+LwLo69Uu+G+7VDVoq3y7n5ZPu\nv/B6/+yMarYBImJcQozK0zdlbDOrKphfilkUgTSJqxNolORzxNp3eBKkiZYx\nWbOQ9Vyt87v7yZGVBJ170Jtdy9RfWtQWFiTnBnp3X+vAHhoV6LSKPG1xK1UE\nf6N4G+X+maECyU1SQKo3sl6oVhDx9T/mZQ8xjFnmYBVGrBkApO1ns3MjdbfN\nCzYD+atr0TsKlWrWUQ8AiQ2z8Pn+ngcyefPGehu8EBxtU1VWKAKEe2QO76AQ\nqq5S\r\n=bool\r\n-----END PGP SIGNATURE-----\r\n"},"main":"index.js","gitHead":"4b74509bd1bde39cb76bca6581ebd7ca8ea61910","scripts":{"test":"mocha test/tests.js"},"_npmUser":{"name":"boutell","email":"tom@punkave.com"},"repository":{"url":"git+https://github.com/punkave/broadband.git","type":"git"},"_npmVersion":"6.0.1","description":"Given a MongoDB query cursor, process the results in parallel, up to the specified limit.","directories":{},"_nodeVersion":"8.10.0","dependencies":{"lodash":"^4.0.0"},"_hasShrinkwrap":false,"devDependencies":{"mocha":"^5.0.0"},"_npmOperationalInternal":{"tmp":"tmp/broadband_1.0.0_1526396899540_0.08147987414666158","host":"s3://npm-registry-packages"}},"1.1.0":{"name":"broadband","version":"1.1.0","keywords":["async","parallel","concurrency","limit","series","mongodb","mongo"],"author":{"name":"Apostrophe Technologies, Inc."},"license":"MIT","_id":"broadband@1.1.0","maintainers":[{"name":"alexbea","email":"alex.bea@gmail.com"},{"name":"alexgilbert","email":"alex@punkave.com"},{"name":"austinstarin","email":"austin.starin@gmail.com"},{"name":"bgantick","email":"bgantick@gmail.com"},{"name":"bobclewell","email":"bobclewell@gmail.com"},{"name":"boutell","email":"tom@apostrophecms.com"},{"name":"breyell","email":"breyell@gmail.com"},{"name":"colpanik","email":"kerry@punkave.com"},{"name":"falkodev","email":"anthony@apostrophecms.com"},{"name":"grdunn","email":"grdunn@gmail.com"},{"name":"gregvanbrug","email":"greg.vanbrug@gmail.com"},{"name":"jimmyh","email":"jimmy@punkave.com"},{"name":"mcoppola","email":"mcoppola832@gmail.com"},{"name":"mtthwmnc","email":"matthew.mance@gmail.com"},{"name":"ngranahan","email":"namgranahan@gmail.com"},{"name":"stuartromanek","email":"stuart@punkave.com"}],"homepage":"https://github.com/apostrophecms/broadband","bugs":{"url":"https://github.com/apostrophecms/broadband/issues"},"dist":{"shasum":"ea6ec0f6c9828fa9460fd686969c9a48b5fbc434","tarball":"https://registry.npmjs.org/broadband/-/broadband-1.1.0.tgz","fileCount":8,"integrity":"sha512-7NxBNfHfHrW+KV7r7XZs26Z31OiyBTn+VGslnPodWSmlZJQz2CcgSgNw3jbIgl2Mn0vjGxvUoU/1yKEcR99KEg==","signatures":[{"sig":"MEYCIQCFUvkdTaHr5GNuQOrIIEJd70BJBO8FTsajaUCZSzqj8AIhAKNE446ZtZtua4/lUH17y7ZiRtE2dGRWlmoeKTA1EdRE","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":13954,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJej1ViCRA9TVsSAnZWagAA/eEP/iuTlJGT2SRqeNwepeQw\nfxI5ztln/Xp8FPxxcnWpWu1r8RmknTd/lLYyvu6+2oRPazuBdQhrdPLhe5rZ\nbRayfr5CoZlx4RpephNIdgex+f0TmGDFjcY1i/0+Rfcg33qNiGAqk/RhP2Ks\nHdTqLtdXX2PueHCpHiuj9TJ6fSopsm51pV2xBR5OPLonFoJazfmfpYG18a6J\n0LmGUR0uFgUZAyNaNyGgzios5wBiw2vTz3KEXjdFUMcdpefm19gftHji81r2\nH18JegLKQ6CZzhkskeBV3tCJTOGciigZolODfd/1oYs6w1jpxLaNRczkDmp5\nBcJ75EbvUhqgLXC4ln6vYsnGDXAD26v9v3FCPSkQXj+LioOtvCgCRURL0g5q\n9THJgh0d204/UC552LkOlVULY5Mwgp3Yr2tUirqdDd5MCtPKj3rMGuwGk4b6\nfNKiGUP2ZYks8Z1IOWzF/yXvUcLsSKjTwJcvoincrlfyp38+uOx9Bc+hBNhE\ngLDjdf1myk/Hh8oSKauwbAgVMGTvQmRT9lgutlWYvYYbCGpA6PofvewEWB/j\nGnTxz+l++/bCTQrqftF8RVqKwj8q0kCMjzBDaZ7YXK5ofsrBsaTTeLnylHRV\n1q63GQwrWwaXjX7BZ/8c7euUfQajHvms1hy9fH4+DK3uBfdQpz4dJA/i8hHU\nnBK7\r\n=uoeW\r\n-----END PGP SIGNATURE-----\r\n"},"main":"index.js","gitHead":"71ac1b154f8b76c3d447b9b5052d9d838f412ec6","scripts":{"test":"npx eslint . && mocha test/tests.js"},"_npmUser":{"name":"alexbea","email":"alex.bea@gmail.com"},"repository":{"url":"git+https://github.com/apostrophecms/broadband.git","type":"git"},"_npmVersion":"6.14.3","description":"Given a MongoDB query cursor, process the results in parallel, up to the specified limit.","directories":{},"_nodeVersion":"10.16.0","dependencies":{"lodash":"^4.0.0"},"_hasShrinkwrap":false,"devDependencies":{"mocha":"^5.0.0","eslint":"^6.8.0","eslint-plugin-node":"^11.0.0","eslint-plugin-import":"^2.20.1","eslint-plugin-promise":"^4.2.1","eslint-config-standard":"^14.1.0","eslint-plugin-standard":"^4.0.1","eslint-config-apostrophe":"^3.1.0"},"_npmOperationalInternal":{"tmp":"tmp/broadband_1.1.0_1586451809901_0.00534473122045287","host":"s3://npm-registry-packages"}}},"time":{"created":"2014-09-25T14:24:54.301Z","modified":"2024-07-02T17:40:09.186Z","0.1.0":"2014-09-25T14:24:54.301Z","0.1.1":"2014-10-30T21:36:48.165Z","1.0.0":"2018-05-15T15:08:19.666Z","1.1.0":"2020-04-09T17:03:30.001Z"},"maintainers":[{"email":"haroun.npm@icloud.com","name":"haroun"},{"email":"robert@robertmeans.net","name":"bodonkey"},{"email":"etldev@tuta.io","name":"etlaurent"},{"email":"alex@apostrophecms.com","name":"alexgilbert"},{"email":"stuart@punkave.com","name":"stuartromanek"},{"email":"tom@apostrophecms.com","name":"boutell"},{"email":"vjeudy@protonmail.com","name":"valjed"},{"email":"stuart+npm@apostrophecms.com","name":"romanek"},{"email":"kerry@punkave.com","name":"colpanik"},{"email":"greg.vanbrug@gmail.com","name":"gregvanbrug"},{"email":"mcoppola832@gmail.com","name":"mcoppola"},{"email":"jimmy@punkave.com","name":"jimmyh"},{"email":"austin.starin@gmail.com","name":"austinstarin"},{"email":"grdunn@gmail.com","name":"grdunn"},{"email":"anthony@apostrophecms.com","name":"falkodev"},{"email":"abea@mailbox.org","name":"alexbea"},{"email":"matthew.mance@gmail.com","name":"mtthwmnc"},{"email":"breyell@gmail.com","name":"breyell"}],"author":{"name":"Apostrophe Technologies, Inc."},"repository":{"url":"git+https://github.com/apostrophecms/broadband.git","type":"git"},"keywords":["async","parallel","concurrency","limit","series","mongodb","mongo"],"license":"MIT","homepage":"https://github.com/apostrophecms/broadband","bugs":{"url":"https://github.com/apostrophecms/broadband/issues"},"readme":"# broadband\n=========\n[![CircleCI](https://circleci.com/gh/apostrophecms/broadband/tree/master.svg?style=svg)](https://circleci.com/gh/apostrophecms/broadband/tree/master)\n\n<a href=\"https://apostrophecms.org/\"><img src=\"https://raw.githubusercontent.com/boutell/broadband/master/logos/logo-box-madefor.png\" align=\"right\" /></a>\n\nGiven a MongoDB query cursor, process the results in parallel, up to the specified limit.\n\n```javascript\nvar broadband = require('broadband');\nvar cursor = mongoCollection.find({});\n\nreturn broadband(cursor, 8, function(doc, callback) {\n  // Up to 8 of these will be invoked simultaneously\n  // Do something with doc, then...\n  return callback(null);\n}, function(err) {\n  // All done\n});\n```\n\n## Why?\n\nWe wanted to work with MongoDB queries the way we work with [async.eachLimit](https://github.com/caolan/async#eachLimit), but without yanking everything into memory at once with `toArray`.\n\nSpecifically, we wanted to resize some images in parallel, rather than waiting to do them one at a time. We have a MongoDB collection with information about all of the images. But there are a lot of them, so we don't want to yank all of that information into memory up front.\n\n`broadband` wraps MongoDB's `Cursor.nextObject` with a queueing mechanism that allows several results to be processed at once, but only up to the limit you specify. You don't run out of memory due to too many image processes, you don't wait too long, and you don't have to load the entire array into memory at once. Everybody gets a medal.\n\n## What about errors?\n\nIf an error occurs, `broadband` will:\n\n1. Stop starting new iterator callbacks.\n2. Wait for any outstanding iterator callbacks to finish.\n3. Invoke the final callback (its third argument) with the first error it received.\n\n## Using broadband without mongodb\n\nYou can pass any object with a `nextObject` method as the \"cursor.\" That method should invoke its callback with `(err, object)`. If there is no error, `object` should be the next object retrieved from your data source. If there are no more objects, pass `null` as `object`.\n\n## About P'unk Avenue and Apostrophe\n\n`broadband` was created at [P'unk Avenue](https://punkave.com) for use in many projects built with Apostrophe, an open-source content management system built on node.js. If you like `broadband` you should definitely [check out apostrophecms.com](https://apostrophecms.com).\n\n## Support\n\nFeel free to open issues on [github](http://github.com/apostrophecms/broadband).\n\n<a href=\"https://punkave.com/\"><img src=\"https://raw.githubusercontent.com/boutell/broadband/master/logos/logo-box-builtby.png\" /></a>\n\n## Changelog\n\n### 1.1.0\n\n- Adds support for both MongoDB 2 and 3 via the cursor `next` and `nextObject` methods.\n- Adds JS linting to the tests.\n\n### 1.0.0\n\n- Declared 1.0.0 stable as this has long been a component of Apostrophe. Updated lodash dependency to satisfy `npm audit`.\n\n### 0.1.1\n\n- Fixed a rare race condition which caused `broadband` to invoke its final callback more than once.\n\n### 0.1.0\n\n- Initial release. With shiny unit tests, of course.\n","readmeFilename":"README.md"}